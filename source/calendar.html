<!DOCTYPE html>
<html>
<head>
	<!-- Deadlines - tryb kalendarza -->
	<meta charset="UTF-8">

	<script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
	<script type="text/javascript" src="lib/jquery.min.js"></script>
	<script type="text/javascript" src="lib/mousetrap.min.js"></script>
	<script>if (window.module) module = window.module;</script>

	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" type="text/css" href="theme.css">
</head>
<body>
	<div class="grayoverlay"></div>
	<div class="mini bar" id="greetingsbar">
		0.7.3
		<span class="right clickable underline" id="date" onclick="jumpMonthCalendar(0)"></span>
	</div>
	<div id="overview">
		<div id="calendar">
			<div class="calendarbuttons">
				<div class="left clickable" onclick="jumpMonthCalendar(-1);">&lt;</div>
				<div id="jumpmonthheader"></div>
				<div class="right clickable" onclick="jumpMonthCalendar(1);">&gt;</div>
			</div>
			<div class="table"></div>
		</div>
		<div id="preview"></div>
		<div class="down">
			<div class="mini bar" id="settingsbar">
				<div class="left clickable underline" onclick="showMode('list')">lista</div>
				<div class="right clickable underline" onclick="showWindow('settings')">ustawienia</div>
			</div>
		</div>
	</div>
	<div id="formboxes">
		<div class="grayoverlay" id="show-grayoverlay"></div>
		<div class="formbox" id="showbox">
			<div class="medium bar" id="showbar">
				<div class="icon left">&lt;</div>
				<div class="context left">
					<div class="clickable underline" id="showtitle" onclick="hideForm('show')">
						Zadanie
					</div>
				</div>
				<div class="dropdown icon right clickable underline" onclick="showForm('edit',editedtask);">📝</div>
			</div>
			<form class="form" id="show">
				<h1 name="title"></h1>
				<textarea name="description" placeholder="Opis zadania" readonly></textarea>

				<label>
					📅:
					<span name="date"></span><br>
				</label>

				<label>
					🕓:
					<span name="time"></span><br>
				</label>

				<label class="repeatbox nomargin" style="margin-left: 0px;">
					🔁:
					<span name="repeatamount"></span>
					<span name="clarifyrepeat" title="" style="display: none;">💭</span>
				</label>
			</form>
			<div class="formbackground"></div>
		</div>
		<div class="grayoverlay" id="add-grayoverlay"></div>
		<div class="formbox" id="addbox">
			<div class="medium bar" id="addbar">
				<div class="icon left">&lt;</div>
				<div class="context left">
					<div class="clickable underline" id="addtitle" onclick="hideForm('add')">
						Dodaj
					</div>
				</div>
				<div class="dropdown icon right"></div>
			</div>
			<form class="form" id="add" onsubmit="function(event){event.preventDefault();if(addTask('add'))hideForm('add');}" action="">
				<input type="text" id="addtrigger" style="display: none;">

				<input name="title" placeholder="Nazwa zadania" required><br><br>

				<textarea name="description" placeholder="Opis zadania"></textarea>

				<label>
					Data:
					<input name="date" type="date" required onchange="formClarify('add')"><br><br>
				</label>

				<label>
					Godzina:
					<input name="time" type="time" required><br><br>
				</label>

				<label>
					Powtarzaj:
					<input name="repeat" type="checkbox" onclick="$('.repeatbox').toggle()">
				</label>
				<div class="repeatbox">
					co
					<input name="repeatamount" type="number" min="1" value="1">
					<select name="repeatunit" onchange="formClarify('add')">
						<option value="days">dni</option>
						<option value="weeks">tygodni</option>
						<option value="months">miesięcy</option>
						<option value="years">lat</option>
					</select>

					<div class="monthsrepeat clarifyrepeat" style="display:none;">
						<select name="repeattype">
							<option value="sameday">20. dzień każdego miesiąca</option>
							<option value="sameweekday">3. piątek każdego miesiąca</option>
						</select>
					</div><br>

					<label>
						Koniec:
						<input name="repeatend" type="checkbox" onclick="$('.endrepeatbox').toggle()">
					</label>
					<div class="endrepeatbox">
						<input name="repeatenddate" type="date">
					</div>
				</div>

				<div class="button" onclick="if(addTask('add'))hideForm('add');">
					<div class="buttonlabel">Dodaj</div>
					<div class="buttonicon">&gt;</div>
				</div>
			</form>
			<div class="formbackground"></div>
		</div>
		<div class="grayoverlay" id="edit-grayoverlay"></div>
		<div class="formbox" id="editbox">
			<div class="medium bar" id="editbar">
				<div class="icon left">&lt;</div>
				<div class="context left">
					<div class="clickable underline" id="edittitle" onclick="hideForm('edit')">
						Edycja
					</div>
				</div>
				<div class="dropdown icon right"></div>
			</div>
			<form class="form" id="edit" onsubmit="function(event){event.preventDefault();if(editTask('edit'))hideForm('edit');}">
				
				<input name="title" placeholder="Nazwa zadania" required><br><br>

				<textarea name="description" placeholder="Opis zadania"></textarea>

				<label>
					Data:
					<input name="date" type="date" required onchange="formClarify('edit')"><br><br>
				</label>

				<label>
					Godzina:
					<input name="time" type="time" required><br><br>
				</label>

				<label>
					Powtarzaj:
					<input name="repeat" type="checkbox" onclick="$('.repeatbox').toggle()">
				</label>
				<div class="repeatbox">
					co
					<input name="repeatamount" type="number" min="1" value="1">
					<select name="repeatunit" onchange="formClarify('edit')">
						<option value="days">dni</option>
						<option value="weeks">tygodni</option>
						<option value="months">miesięcy</option>
						<option value="years">lat</option>
					</select>

					<div class="monthsrepeat clarifyrepeat" style="display:none;">
						<select name="repeattype">
							<option value="sameday">20. dzień każdego miesiąca</option>
							<option value="sameweekday">3. piątek każdego miesiąca</option>
						</select>
					</div><br>

					<label>
						Koniec:
						<input name="repeatend" type="checkbox" onclick="$('.endrepeatbox').toggle()">
					</label>
					<div class="endrepeatbox">
						<input name="repeatenddate" type="date">
					</div>
				</div><br>

				<a href="#" class="deletebutton" onclick="deleteTask(editedtask);hideForm('edit');">Usuń to zadanie</a>
				<div class="button" onclick="if(editTask('edit'))hideForm('edit');">
					<div class="buttonlabel">Zapisz</div>
					<div class="buttonicon">&gt;</div>
				</div>
			</form>
			<div class="formbackground"></div>
		</div>
	</div>

	<script src="basic.js" type="text/javascript"></script>
	<script src="calendar.js" type="text/javascript"></script>
</body>
</html>